# 2일차
### 컨터이너에 접속하기
docker exec -it mysql /bin/bash
### 컨터이너에 접속한 상태에서 mysql 서비스 실행하기
mysql -uroot

### 컨터이너 업데이트
 - 기존 컨터이너를 삭제하고 새로운 컨테이너를 로드하고 구동
- 문제점 : 기존 컨테이너에 있는 데이터가 삭제
- 해결점 : 로컬디바이스를 볼륨마운트 한다.. 

docker run -d -p 3306:3306 -e MYSQL_ALLOW_EMPTY_PASSWORD=true --name mysql -v /home/rocky/mysql_bk:/var/lib/mysql mysql:5.7

### 도커 컴포즈  Docker Compose
- mysql and wordpress 연관작업이나. 복작한 작업을 쉽게 관리하는 방법
- sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
- sudo chmod +x  /usr/local/bin/docker-compose

### yml 파일생성(docker-compose.yml)
- docker-compose.yml 파일 참고
- 파일에 있는 볼륨드라이버를 생성해 줘야 함
- mkdir db_data
- mkdir wp_data
- docker-compose up
- http://localhost:8000  접속시 에러가 없어야 함
- 에러가 발생하면 로그를 확인
- docker-compose log db
- docker-compose log wordpress
- 권한 에러가 발생했다면 docker-compose의 mysql를 exec로 컨터이너에 접속해서 권한 부여
- docker-compose exec db mysql -u root -p
- 패스워드 입력창이 나오면 wordpress
- GRANT ALL PRIVILEGES ON wordpress.* TO 'wordpress'@'%' IDENTIFIED BY 'wordpress';
- FLUSH PRIVILEGES;
- SHOW GRANTS FOR 'wordpress'@'%';
- 셀에서 나온다음
- docker-compose down
- docker-compose up -d



